<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- BootStrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    
    <!-- BootStrap -->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- DataTables.js -->
    <script src="https://cdn.datatables.net/2.2.2/js/dataTables.min.js"></script>
    <link
      href="https://cdn.datatables.net/2.2.2/css/dataTables.dataTables.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="asset/css/list.css">
</head>
<body>

    <div class="List_box">
      <table id="list-transaction" class="table-hover" >
        <thead> 
          <tr>
              <th>ID</th>
              <th>Transaction</th>
              <th >Amount</th>
              <th >Category</th>
              <th >Date</th>      
      </thead>
        
      </table>
      </table>
        
        <script>
          new const firstitem = {
              "id": 1,
              "transaction": "Report 1",
              "Amount" : 1000,
              "Category" : "Category 1",
              "Date" : "2025-01-01",
            }
          new  const Secoitem = {
              "id": 2,
              "transaction": "Report 2",
              "Amount" : 1000,
              "Category" : "Category 2",
              "Date" : "2025-01-01",
            }  
          new const ListTransactions = [
              firstitem, Secoitem
            ]
          $(document).ready(function () {
            
            
            $("#list-transaction").DataTable(
              {
                data: ListTransactions,
                lengthMenu: [[10,25,50,100,-1],[10,25,50,100,"All"]],
                pageLength: 10,
                columns: [
                  { data: 'id' },
                  { data: 'transaction' },
                  { data: 'Amount' },
                  { data: 'Category' },
                  { data: 'Date' },

                ]

              }
            );
          });

          function exportTransactionsToJSON() {
        const dataStr = JSON.stringify(ListTransactions, null, 2);
        const blob = new Blob([dataStr], { type: "application/json" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "transactions.json";
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      }
      
      function importTransactionsFromJSON() {
        const input = document.createElement("input");
        input.type = "file";
        input.accept = ".json";
        input.onchange = (event) => {
          const file = event.target.files[0];
          const reader = new FileReader();
          reader.onload = (e) => {
            const contents = e.target.result;
            const importedTransactions = JSON.parse(contents);
            ListTransactions.length = 0; // Clear existing transactions
            ListTransactions.push(...importedTransactions); // Add new transactions
            $("#list-transaction").DataTable().clear().rows.add(ListTransactions).draw(); // Refresh DataTable
          };
          reader.readAsText(file);
        };
        input.click();
      }
          
        </script>
      </div>

        
      
</body>
</html>
